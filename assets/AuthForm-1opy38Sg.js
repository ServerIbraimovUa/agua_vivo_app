import{R as P,j as m}from"./index-0kmCLZPx.js";var ce=e=>e.type==="checkbox",ne=e=>e instanceof Date,O=e=>e==null;const er=e=>typeof e=="object";var S=e=>!O(e)&&!Array.isArray(e)&&er(e)&&!ne(e),gr=e=>S(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,vr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,br=(e,s)=>e.has(vr(s)),_r=e=>{const s=e.constructor&&e.constructor.prototype;return S(s)&&s.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let s;const i=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Oe&&(e instanceof Blob||e instanceof FileList))&&(i||S(e)))if(s=i?[]:{},!i&&!_r(e))s=e;else for(const t in e)e.hasOwnProperty(t)&&(s[t]=M(e[t]));else return e;return s}var fe=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,y=(e,s,i)=>{if(!s||!S(e))return i;const t=fe(s.split(/[,[\].]+?/)).reduce((u,a)=>O(u)?u:u[a],e);return D(t)||t===e?D(e[s])?i:e[s]:t},z=e=>typeof e=="boolean";const $e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},j={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};P.createContext(null);var xr=(e,s,i,t=!0)=>{const u={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(u,a,{get:()=>{const f=a;return s._proxyFormState[f]!==j.all&&(s._proxyFormState[f]=!t||j.all),i&&(i[f]=!0),e[f]}});return u},N=e=>S(e)&&!Object.keys(e).length,Ar=(e,s,i,t)=>{i(e);const{name:u,...a}=e;return N(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(f=>s[f]===(!t||j.all))},pe=e=>Array.isArray(e)?e:[e];function Vr(e){const s=P.useRef(e);s.current=e,P.useEffect(()=>{const i=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}var H=e=>typeof e=="string",wr=(e,s,i,t,u)=>H(e)?(t&&s.watch.add(e),y(i,e,u)):Array.isArray(e)?e.map(a=>(t&&s.watch.add(a),y(i,a))):(t&&(s.watchAll=!0),i),Le=e=>/^\w*$/.test(e),rr=e=>fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,s,i)=>{let t=-1;const u=Le(s)?[s]:rr(s),a=u.length,f=a-1;for(;++t<a;){const _=u[t];let x=i;if(t!==f){const R=e[_];x=S(R)||Array.isArray(R)?R:isNaN(+u[t+1])?{}:[]}e[_]=x,e=e[_]}return e},Fr=(e,s,i,t,u)=>s?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[t]:u||!0}}:{},Ke=e=>({isOnSubmit:!e||e===j.onSubmit,isOnBlur:e===j.onBlur,isOnChange:e===j.onChange,isOnAll:e===j.all,isOnTouch:e===j.onTouched}),Ge=(e,s,i)=>!i&&(s.watchAll||s.watch.has(e)||[...s.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const oe=(e,s,i,t)=>{for(const u of i||Object.keys(e)){const a=y(e,u);if(a){const{_f:f,..._}=a;if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],u)&&!t)break;if(f.ref&&s(f.ref,f.name)&&!t)break;oe(_,s)}else S(_)&&oe(_,s)}}};var mr=(e,s,i)=>{const t=fe(y(e,i));return w(t,"root",s[i]),w(e,i,t),e},Re=e=>e.type==="file",X=e=>typeof e=="function",ge=e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},he=e=>H(e),Ce=e=>e.type==="radio",ve=e=>e instanceof RegExp;const ze={value:!1,isValid:!1},Je={value:!0,isValid:!0};var tr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?Je:{value:e[0].value,isValid:!0}:Je:ze}return ze};const Qe={isValid:!1,value:null};var sr=e=>Array.isArray(e)?e.reduce((s,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:s,Qe):Qe;function Xe(e,s,i="validate"){if(he(e)||Array.isArray(e)&&e.every(he)||z(e)&&!e)return{type:i,message:he(e)?e:"",ref:s}}var ie=e=>S(e)&&!ve(e)?e:{value:e,message:""},Ye=async(e,s,i,t,u)=>{const{ref:a,refs:f,required:_,maxLength:x,minLength:R,min:re,max:p,pattern:g,validate:J,name:C,valueAsNumber:de,mount:xe,disabled:Q}=e._f,b=y(s,C);if(!xe||Q)return{};const W=f?f[0]:a,$=A=>{t&&W.reportValidity&&(W.setCustomValidity(z(A)?"":A||""),W.reportValidity())},k={},le=Ce(a),te=ce(a),Ae=le||te,q=(de||Re(a))&&D(a.value)&&D(b)||ge(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,Y=Fr.bind(null,C,i,k),K=(A,v,F,L=G.maxLength,U=G.minLength)=>{const B=A?v:F;k[C]={type:A?L:U,message:B,ref:a,...Y(A?L:U,B)}};if(u?!Array.isArray(b)||!b.length:_&&(!Ae&&(q||O(b))||z(b)&&!b||te&&!tr(f).isValid||le&&!sr(f).isValid)){const{value:A,message:v}=he(_)?{value:!!_,message:_}:ie(_);if(A&&(k[C]={type:G.required,message:v,ref:W,...Y(G.required,v)},!i))return $(v),k}if(!q&&(!O(re)||!O(p))){let A,v;const F=ie(p),L=ie(re);if(!O(b)&&!isNaN(b)){const U=a.valueAsNumber||b&&+b;O(F.value)||(A=U>F.value),O(L.value)||(v=U<L.value)}else{const U=a.valueAsDate||new Date(b),B=ye=>new Date(new Date().toDateString()+" "+ye),Z=a.type=="time",ae=a.type=="week";H(F.value)&&b&&(A=Z?B(b)>B(F.value):ae?b>F.value:U>new Date(F.value)),H(L.value)&&b&&(v=Z?B(b)<B(L.value):ae?b<L.value:U<new Date(L.value))}if((A||v)&&(K(!!A,F.message,L.message,G.max,G.min),!i))return $(k[C].message),k}if((x||R)&&!q&&(H(b)||u&&Array.isArray(b))){const A=ie(x),v=ie(R),F=!O(A.value)&&b.length>+A.value,L=!O(v.value)&&b.length<+v.value;if((F||L)&&(K(F,A.message,v.message),!i))return $(k[C].message),k}if(g&&!q&&H(b)){const{value:A,message:v}=ie(g);if(ve(A)&&!b.match(A)&&(k[C]={type:G.pattern,message:v,ref:a,...Y(G.pattern,v)},!i))return $(v),k}if(J){if(X(J)){const A=await J(b,s),v=Xe(A,W);if(v&&(k[C]={...v,...Y(G.validate,v.message)},!i))return $(v.message),k}else if(S(J)){let A={};for(const v in J){if(!N(A)&&!i)break;const F=Xe(await J[v](b,s),W,v);F&&(A={...F,...Y(v,F.message)},$(F.message),i&&(k[C]=A))}if(!N(A)&&(k[C]={ref:W,...A},!i))return k}}return $(!0),k};function Dr(e,s){const i=s.slice(0,-1).length;let t=0;for(;t<i;)e=D(e)?t++:e[s[t++]];return e}function pr(e){for(const s in e)if(e.hasOwnProperty(s)&&!D(e[s]))return!1;return!0}function T(e,s){const i=Array.isArray(s)?s:Le(s)?[s]:rr(s),t=i.length===1?e:Dr(e,i),u=i.length-1,a=i[u];return t&&delete t[a],u!==0&&(S(t)&&N(t)||Array.isArray(t)&&pr(t))&&T(e,i.slice(0,-1)),e}var Se=()=>{let e=[];return{get observers(){return e},next:u=>{for(const a of e)a.next&&a.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(a=>a!==u)}}),unsubscribe:()=>{e=[]}}},be=e=>O(e)||!er(e);function ee(e,s){if(be(e)||be(s))return e===s;if(ne(e)&&ne(s))return e.getTime()===s.getTime();const i=Object.keys(e),t=Object.keys(s);if(i.length!==t.length)return!1;for(const u of i){const a=e[u];if(!t.includes(u))return!1;if(u!=="ref"){const f=s[u];if(ne(a)&&ne(f)||S(a)&&S(f)||Array.isArray(a)&&Array.isArray(f)?!ee(a,f):a!==f)return!1}}return!0}var ir=e=>e.type==="select-multiple",Sr=e=>Ce(e)||ce(e),ke=e=>ge(e)&&e.isConnected,nr=e=>{for(const s in e)if(X(e[s]))return!0;return!1};function _e(e,s={}){const i=Array.isArray(e);if(S(e)||i)for(const t in e)Array.isArray(e[t])||S(e[t])&&!nr(e[t])?(s[t]=Array.isArray(e[t])?[]:{},_e(e[t],s[t])):O(e[t])||(s[t]=!0);return s}function lr(e,s,i){const t=Array.isArray(e);if(S(e)||t)for(const u in e)Array.isArray(e[u])||S(e[u])&&!nr(e[u])?D(s)||be(i[u])?i[u]=Array.isArray(e[u])?_e(e[u],[]):{..._e(e[u])}:lr(e[u],O(s)?{}:s[u],i[u]):i[u]=!ee(e[u],s[u]);return i}var Ee=(e,s)=>lr(e,s,_e(s)),ar=(e,{valueAsNumber:s,valueAsDate:i,setValueAs:t})=>D(e)?e:s?e===""?NaN:e&&+e:i&&H(e)?new Date(e):t?t(e):e;function Te(e){const s=e.ref;if(!(e.refs?e.refs.every(i=>i.disabled):s.disabled))return Re(s)?s.files:Ce(s)?sr(e.refs).value:ir(s)?[...s.selectedOptions].map(({value:i})=>i):ce(s)?tr(e.refs).value:ar(D(s.value)?e.ref.value:s.value,e)}var kr=(e,s,i,t)=>{const u={};for(const a of e){const f=y(s,a);f&&w(u,a,f._f)}return{criteriaMode:i,names:[...e],fields:u,shouldUseNativeValidation:t}},ue=e=>D(e)?e:ve(e)?e.source:S(e)?ve(e.value)?e.value.source:e.value:e,Er=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ze(e,s,i){const t=y(e,i);if(t||Le(i))return{error:t,name:i};const u=i.split(".");for(;u.length;){const a=u.join("."),f=y(s,a),_=y(e,a);if(f&&!Array.isArray(f)&&i!==a)return{name:i};if(_&&_.type)return{name:a,error:_};u.pop()}return{name:i}}var Tr=(e,s,i,t,u)=>u.isOnAll?!1:!i&&u.isOnTouch?!(s||e):(i?t.isOnBlur:u.isOnBlur)?!e:(i?t.isOnChange:u.isOnChange)?e:!0,Or=(e,s)=>!fe(y(e,s)).length&&T(e,s);const Lr={mode:j.onSubmit,reValidateMode:j.onChange,shouldFocusError:!0};function Rr(e={},s){let i={...Lr,...e},t={submitCount:0,isDirty:!1,isLoading:X(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:i.errors||{},disabled:i.disabled||!1},u={},a=S(i.defaultValues)||S(i.values)?M(i.defaultValues||i.values)||{}:{},f=i.shouldUnregister?{}:M(a),_={action:!1,mount:!1,watch:!1},x={mount:new Set,unMount:new Set,array:new Set,watch:new Set},R,re=0;const p={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Se(),array:Se(),state:Se()},J=Ke(i.mode),C=Ke(i.reValidateMode),de=i.criteriaMode===j.all,xe=r=>n=>{clearTimeout(re),re=setTimeout(r,n)},Q=async r=>{if(p.isValid||r){const n=i.resolver?N((await q()).errors):await K(u,!0);n!==t.isValid&&g.state.next({isValid:n})}},b=r=>p.isValidating&&g.state.next({isValidating:r}),W=(r,n=[],l,d,c=!0,o=!0)=>{if(d&&l){if(_.action=!0,o&&Array.isArray(y(u,r))){const h=l(y(u,r),d.argA,d.argB);c&&w(u,r,h)}if(o&&Array.isArray(y(t.errors,r))){const h=l(y(t.errors,r),d.argA,d.argB);c&&w(t.errors,r,h),Or(t.errors,r)}if(p.touchedFields&&o&&Array.isArray(y(t.touchedFields,r))){const h=l(y(t.touchedFields,r),d.argA,d.argB);c&&w(t.touchedFields,r,h)}p.dirtyFields&&(t.dirtyFields=Ee(a,f)),g.state.next({name:r,isDirty:v(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else w(f,r,n)},$=(r,n)=>{w(t.errors,r,n),g.state.next({errors:t.errors})},k=r=>{t.errors=r,g.state.next({errors:t.errors,isValid:!1})},le=(r,n,l,d)=>{const c=y(u,r);if(c){const o=y(f,r,D(l)?y(a,r):l);D(o)||d&&d.defaultChecked||n?w(f,r,n?o:Te(c._f)):U(r,o),_.mount&&Q()}},te=(r,n,l,d,c)=>{let o=!1,h=!1;const V={name:r},E=!!(y(u,r)&&y(u,r)._f.disabled);if(!l||d){p.isDirty&&(h=t.isDirty,t.isDirty=V.isDirty=v(),o=h!==V.isDirty);const I=E||ee(y(a,r),n);h=!!(!E&&y(t.dirtyFields,r)),I||E?T(t.dirtyFields,r):w(t.dirtyFields,r,!0),V.dirtyFields=t.dirtyFields,o=o||p.dirtyFields&&h!==!I}if(l){const I=y(t.touchedFields,r);I||(w(t.touchedFields,r,l),V.touchedFields=t.touchedFields,o=o||p.touchedFields&&I!==l)}return o&&c&&g.state.next(V),o?V:{}},Ae=(r,n,l,d)=>{const c=y(t.errors,r),o=p.isValid&&z(n)&&t.isValid!==n;if(e.delayError&&l?(R=xe(()=>$(r,l)),R(e.delayError)):(clearTimeout(re),R=null,l?w(t.errors,r,l):T(t.errors,r)),(l?!ee(c,l):c)||!N(d)||o){const h={...d,...o&&z(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...h},g.state.next(h)}b(!1)},q=async r=>i.resolver(f,i.context,kr(r||x.mount,u,i.criteriaMode,i.shouldUseNativeValidation)),Y=async r=>{const{errors:n}=await q(r);if(r)for(const l of r){const d=y(n,l);d?w(t.errors,l,d):T(t.errors,l)}else t.errors=n;return n},K=async(r,n,l={valid:!0})=>{for(const d in r){const c=r[d];if(c){const{_f:o,...h}=c;if(o){const V=x.array.has(o.name),E=await Ye(c,f,de,i.shouldUseNativeValidation&&!n,V);if(E[o.name]&&(l.valid=!1,n))break;!n&&(y(E,o.name)?V?mr(t.errors,E,o.name):w(t.errors,o.name,E[o.name]):T(t.errors,o.name))}h&&await K(h,n,l)}}return l.valid},A=()=>{for(const r of x.unMount){const n=y(u,r);n&&(n._f.refs?n._f.refs.every(l=>!ke(l)):!ke(n._f.ref))&&we(r)}x.unMount=new Set},v=(r,n)=>(r&&n&&w(f,r,n),!ee(Ue(),a)),F=(r,n,l)=>wr(r,x,{..._.mount?f:D(n)?a:H(r)?{[r]:n}:n},l,n),L=r=>fe(y(_.mount?f:a,r,e.shouldUnregister?y(a,r,[]):[])),U=(r,n,l={})=>{const d=y(u,r);let c=n;if(d){const o=d._f;o&&(!o.disabled&&w(f,r,ar(n,o)),c=ge(o.ref)&&O(n)?"":n,ir(o.ref)?[...o.ref.options].forEach(h=>h.selected=c.includes(h.value)):o.refs?ce(o.ref)?o.refs.length>1?o.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(V=>V===h.value):c===h.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(h=>h.checked=h.value===c):Re(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||g.values.next({name:r,values:{...f}})))}(l.shouldDirty||l.shouldTouch)&&te(r,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Ve(r)},B=(r,n,l)=>{for(const d in n){const c=n[d],o=`${r}.${d}`,h=y(u,o);(x.array.has(r)||!be(c)||h&&!h._f)&&!ne(c)?B(o,c,l):U(o,c,l)}},Z=(r,n,l={})=>{const d=y(u,r),c=x.array.has(r),o=M(n);w(f,r,o),c?(g.array.next({name:r,values:{...f}}),(p.isDirty||p.dirtyFields)&&l.shouldDirty&&g.state.next({name:r,dirtyFields:Ee(a,f),isDirty:v(r,o)})):d&&!d._f&&!O(o)?B(r,o,l):U(r,o,l),Ge(r,x)&&g.state.next({...t}),g.values.next({name:r,values:{...f}}),!_.mount&&s()},ae=async r=>{const n=r.target;let l=n.name,d=!0;const c=y(u,l),o=()=>n.type?Te(c._f):gr(r),h=V=>{d=Number.isNaN(V)||V===y(f,l,V)};if(c){let V,E;const I=o(),se=r.type===$e.BLUR||r.type===$e.FOCUS_OUT,dr=!Er(c._f)&&!i.resolver&&!y(t.errors,l)&&!c._f.deps||Tr(se,y(t.touchedFields,l),t.isSubmitted,C,J),me=Ge(l,x,se);w(f,l,I),se?(c._f.onBlur&&c._f.onBlur(r),R&&R(0)):c._f.onChange&&c._f.onChange(r);const De=te(l,I,se,!1),yr=!N(De)||me;if(!se&&g.values.next({name:l,type:r.type,values:{...f}}),dr)return p.isValid&&Q(),yr&&g.state.next({name:l,...me?{}:De});if(!se&&me&&g.state.next({...t}),b(!0),i.resolver){const{errors:He}=await q([l]);if(h(I),d){const hr=Ze(t.errors,u,l),We=Ze(He,u,hr.name||l);V=We.error,l=We.name,E=N(He)}}else V=(await Ye(c,f,de,i.shouldUseNativeValidation))[l],h(I),d&&(V?E=!1:p.isValid&&(E=await K(u,!0)));d&&(c._f.deps&&Ve(c._f.deps),Ae(l,E,V,De))}},ye=(r,n)=>{if(y(t.errors,n)&&r.focus)return r.focus(),1},Ve=async(r,n={})=>{let l,d;const c=pe(r);if(b(!0),i.resolver){const o=await Y(D(r)?r:c);l=N(o),d=r?!c.some(h=>y(o,h)):l}else r?(d=(await Promise.all(c.map(async o=>{const h=y(u,o);return await K(h&&h._f?{[o]:h}:h)}))).every(Boolean),!(!d&&!t.isValid)&&Q()):d=l=await K(u);return g.state.next({...!H(r)||p.isValid&&l!==t.isValid?{}:{name:r},...i.resolver||!r?{isValid:l}:{},errors:t.errors,isValidating:!1}),n.shouldFocus&&!d&&oe(u,ye,r?c:x.mount),d},Ue=r=>{const n={...a,..._.mount?f:{}};return D(r)?n:H(r)?y(n,r):r.map(l=>y(n,l))},Me=(r,n)=>({invalid:!!y((n||t).errors,r),isDirty:!!y((n||t).dirtyFields,r),isTouched:!!y((n||t).touchedFields,r),error:y((n||t).errors,r)}),ur=r=>{r&&pe(r).forEach(n=>T(t.errors,n)),g.state.next({errors:r?t.errors:{}})},Ne=(r,n,l)=>{const d=(y(u,r,{_f:{}})._f||{}).ref;w(t.errors,r,{...n,ref:d}),g.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&d&&d.focus&&d.focus()},or=(r,n)=>X(r)?g.values.subscribe({next:l=>r(F(void 0,n),l)}):F(r,n,!0),we=(r,n={})=>{for(const l of r?pe(r):x.mount)x.mount.delete(l),x.array.delete(l),n.keepValue||(T(u,l),T(f,l)),!n.keepError&&T(t.errors,l),!n.keepDirty&&T(t.dirtyFields,l),!n.keepTouched&&T(t.touchedFields,l),!i.shouldUnregister&&!n.keepDefaultValue&&T(a,l);g.values.next({values:{...f}}),g.state.next({...t,...n.keepDirty?{isDirty:v()}:{}}),!n.keepIsValid&&Q()},Pe=({disabled:r,name:n,field:l,fields:d,value:c})=>{if(z(r)){const o=r?void 0:D(c)?Te(l?l._f:y(d,n)._f):c;w(f,n,o),te(n,o,!1,!1,!0)}},Fe=(r,n={})=>{let l=y(u,r);const d=z(n.disabled);return w(u,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...n}}),x.mount.add(r),l?Pe({field:l,disabled:n.disabled,name:r,value:n.value}):le(r,!0,n.value),{...d?{disabled:n.disabled}:{},...i.progressive?{required:!!n.required,min:ue(n.min),max:ue(n.max),minLength:ue(n.minLength),maxLength:ue(n.maxLength),pattern:ue(n.pattern)}:{},name:r,onChange:ae,onBlur:ae,ref:c=>{if(c){Fe(r,n),l=y(u,r);const o=D(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=Sr(o),V=l._f.refs||[];if(h?V.find(E=>E===o):o===l._f.ref)return;w(u,r,{_f:{...l._f,...h?{refs:[...V.filter(ke),o,...Array.isArray(y(a,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),le(r,!1,void 0,o)}else l=y(u,r,{}),l._f&&(l._f.mount=!1),(i.shouldUnregister||n.shouldUnregister)&&!(br(x.array,r)&&_.action)&&x.unMount.add(r)}}},je=()=>i.shouldFocusError&&oe(u,ye,x.mount),cr=r=>{z(r)&&(g.state.next({disabled:r}),oe(u,(n,l)=>{let d=r;const c=y(u,l);c&&z(c._f.disabled)&&(d||(d=c._f.disabled)),n.disabled=d},0,!1))},qe=(r,n)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=M(f);if(g.state.next({isSubmitting:!0}),i.resolver){const{errors:c,values:o}=await q();t.errors=c,d=o}else await K(u);T(t.errors,"root"),N(t.errors)?(g.state.next({errors:{}}),await r(d,l)):(n&&await n({...t.errors},l),je(),setTimeout(je)),g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:N(t.errors),submitCount:t.submitCount+1,errors:t.errors})},fr=(r,n={})=>{y(u,r)&&(D(n.defaultValue)?Z(r,M(y(a,r))):(Z(r,n.defaultValue),w(a,r,M(n.defaultValue))),n.keepTouched||T(t.touchedFields,r),n.keepDirty||(T(t.dirtyFields,r),t.isDirty=n.defaultValue?v(r,M(y(a,r))):v()),n.keepError||(T(t.errors,r),p.isValid&&Q()),g.state.next({...t}))},Be=(r,n={})=>{const l=r?M(r):a,d=M(l),c=r&&!N(r)?d:a;if(n.keepDefaultValues||(a=l),!n.keepValues){if(n.keepDirtyValues)for(const o of x.mount)y(t.dirtyFields,o)?w(c,o,y(f,o)):Z(o,y(c,o));else{if(Oe&&D(r))for(const o of x.mount){const h=y(u,o);if(h&&h._f){const V=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(ge(V)){const E=V.closest("form");if(E){E.reset();break}}}}u={}}f=e.shouldUnregister?n.keepDefaultValues?M(a):{}:M(c),g.array.next({values:{...c}}),g.values.next({values:{...c}})}x={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!_.mount&&s(),_.mount=!p.isValid||!!n.keepIsValid,_.watch=!!e.shouldUnregister,g.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!ee(r,a)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:n.keepDirtyValues?t.dirtyFields:n.keepDefaultValues&&r?Ee(a,r):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ie=(r,n)=>Be(X(r)?r(f):r,n);return{control:{register:Fe,unregister:we,getFieldState:Me,handleSubmit:qe,setError:Ne,_executeSchema:q,_getWatch:F,_getDirty:v,_updateValid:Q,_removeUnmounted:A,_updateFieldArray:W,_updateDisabledField:Pe,_getFieldArray:L,_reset:Be,_resetDefaultValues:()=>X(i.defaultValues)&&i.defaultValues().then(r=>{Ie(r,i.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:cr,_subjects:g,_proxyFormState:p,_setErrors:k,get _fields(){return u},get _formValues(){return f},get _state(){return _},set _state(r){_=r},get _defaultValues(){return a},get _names(){return x},set _names(r){x=r},get _formState(){return t},set _formState(r){t=r},get _options(){return i},set _options(r){i={...i,...r}}},trigger:Ve,register:Fe,handleSubmit:qe,watch:or,setValue:Z,getValues:Ue,reset:Ie,resetField:fr,clearErrors:ur,unregister:we,setError:Ne,setFocus:(r,n={})=>{const l=y(u,r),d=l&&l._f;if(d){const c=d.refs?d.refs[0]:d.ref;c.focus&&(c.focus(),n.shouldSelect&&c.select())}},getFieldState:Me}}function Cr(e={}){const s=P.useRef(),i=P.useRef(),[t,u]=P.useState({isDirty:!1,isValidating:!1,isLoading:X(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:X(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Rr(e,()=>u(f=>({...f}))),formState:t});const a=s.current.control;return a._options=e,Vr({subject:a._subjects.state,next:f=>{Ar(f,a._proxyFormState,a._updateFormState,!0)&&u({...a._formState})}}),P.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),P.useEffect(()=>{if(a._proxyFormState.isDirty){const f=a._getDirty();f!==t.isDirty&&a._subjects.state.next({isDirty:f})}},[a,t.isDirty]),P.useEffect(()=>{e.values&&!ee(e.values,i.current)?(a._reset(e.values,a._options.resetOptions),i.current=e.values,u(f=>({...f}))):a._resetDefaultValues()},[e.values,a]),P.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),P.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),s.current.formState=xr(t,a),s.current}const jr=({repeat:e})=>{const{register:s,handleSubmit:i,watch:t,reset:u,formState:{errors:a}}=Cr(),f=x=>{console.log(x),u()},_=t("password","");return m.jsxs("form",{onSubmit:i(f),children:[m.jsxs("label",{children:[m.jsx("span",{children:"Enter your email"}),m.jsx("input",{...s("email",{required:!0}),type:"email",placeholder:"E-mail"}),a.email&&m.jsx("span",{children:"This field is required"})]}),m.jsxs("label",{children:[m.jsx("span",{children:"Enter your password"}),m.jsx("input",{...s("password",{required:!0}),type:"password",placeholder:"Password"}),a.password&&m.jsx("span",{children:"This field is required"})]}),e&&m.jsxs(m.Fragment,{children:[m.jsxs("label",{children:[m.jsx("span",{children:"Repeat password"}),m.jsx("input",{...s("repeatPassword",{required:!0,validate:x=>x===_||"Passwords do not match"}),type:"password",placeholder:"Repeat password"}),a.repeatPassword&&m.jsx("span",{children:"This field is required"})]}),m.jsxs("label",{children:[m.jsx("span",{children:"Gender"}),m.jsx("input",{...s("gender",{required:"Please select a gender"}),value:"male",type:"radio"}),"Male",m.jsx("input",{...s("gender",{required:"Please select a gender"}),value:"female",type:"radio"}),"Female",a.gender&&m.jsx("span",{children:"This field is required"})]})]}),m.jsx("button",{type:"submit",children:e?"Sign Up":"Sign In"})]})};export{jr as A};
